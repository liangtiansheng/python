# Python3 集合

set 翻译为集合，是一个**无序的**、**可变的**、**不重复的**元素序列。

collection 翻译为集合类型，是一个大概念

可以使用大括号 { } 或者 set() 函数创建集合，注意：创建一个空集合必须用 set() 而不是 { }，因为 { } 是用来创建一个空字典。

## set定义

+ set() -> new empty set object
+ set(iterable) -> new set object

```bash
s1 = set()
type(s1)
---------------------------------------------------------------------------
set

s2 = set(range(5))
print(s2)
---------------------------------------------------------------------------
{0, 1, 2, 3, 4}

s3 = set(list(range(10)))
print(s3)
---------------------------------------------------------------------------
{0, 1, 2, 3, 4, 5, 6, 7, 8, 9}

s4 = {}
type(s4
---------------------------------------------------------------------------
dict

s5 = {1,2,3,4}
type(s5)
---------------------------------------------------------------------------
set

s6 = {(1,2),3,'a'}
print(s6)
---------------------------------------------------------------------------
{(1, 2), 'a', 3}

s7 = {[1],(1,),1}
print(s7)
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-85-3bcf3ef8dc67> in <module>
----> 1 s7 = {[1],(1,),1}
      2 print(s7)

TypeError: unhashable type: 'list'
```

## set的元素

+  set的元素要求必须可以hash
+  目前学过的不可hash的类型有list、set
+  元素不可以索引
+  set可以迭代

## set增加

> add(elem)

+ 增加一个元素到set中
+ 如果元素存在，什么都不做

```bash
s = set([1,2,3,4])
print(s)
s.add('abc')
print(s)
s.add(1)
print(s)
---------------------------------------------------------------------------
{1, 2, 3, 4}
{1, 2, 3, 4, 'abc'}
{1, 2, 3, 4, 'abc'}
```

> update(*others)

+ 合并其他元素到set集合中来
+ 参数others必须是**可迭代对象**
+ 就地修改

```bash
s = set([1,2,3,4])
s.update(('a','b','c'))
print(s)
s.update(['o','p','q'])
print(s)
s.update({"x":50,"y":60,"z":70})
print(s)
---------------------------------------------------------------------------
{1, 2, 3, 4, 'b', 'c', 'a'}
{1, 2, 3, 4, 'b', 'c', 'o', 'q', 'p', 'a'}
{1, 2, 3, 4, 'b', 'c', 'o', 'z', 'q', 'p', 'a', 'x', 'y'}
```

## set删除

> remove(elem)

+ 从set中移除一个元素
+ 元素不存在，抛出KeyError异常。为什么是KeyError？

```bash
s = set([1,2,3,4])
print(s)
s.remove(7)
---------------------------------------------------------------------------
{1, 2, 3, 4}
---------------------------------------------------------------------------
KeyError                                  Traceback (most recent call last)
<ipython-input-99-7d9c0c061566> in <module>
      1 s = set([1,2,3,4])
      2 print(s)
----> 3 s.remove(7)

KeyError: 7
```

> discard(elem)

+ 从set中移除一个元素
+ 元素不存在，什么都不做

> pop() -> item

+ 移除并返回任意的元素。为什么是任意元素？
+ 空集返回KeyError异常

> clear()

+ 移除所有元素

## set修改、查询

> 修改

+ 要么删除，要么加入新的元素
+ 为什么没有修改？

> 查询

+ 非线性结构，无法索引

> 遍历

+ 可以迭代所有元素

> 成员运算符

+ in 和 not in 判断元素是否在set中
+ 效率呢？

## 集合内置方法完整列表

方法|描述
:-|:-
add()|为集合添加元素
clear()|移除集合中的所有元素
copy()|拷贝一个集合
difference()|返回多个集合的差集
difference_update()|移除集合中的元素，该元素在指定的集合也存在。
discard()|删除集合中指定的元素
intersection()|返回集合的交集
intersection_update()|返回集合的交集。
isdisjoint()|判断两个集合是否包含相同的元素，如果没有返回 True，否则返回 False。
issubset()|判断指定集合是否为该方法参数集合的子集。
issuperset()|判断该方法的参数集合是否为指定集合的子集
pop()|随机移除元素
remove()|移除指定元素
symmetric_difference()|返回两个集合中不重复的元素集合。
symmetric_difference_update()|移除当前集合中在另外一个指定集合相同的元素，并将另外一个指定集合中不同的元素插入到当前集合中。
union()|返回两个集合的并集
update()|给集合添加元素
